
(function(a){a.fn.simplepopup=function(d){var f=a.extend({centerPopup:true,open:function(){},closed:function(){}},d);var c=a(this);var e=a.extend(f,d);var b={init:function(){return this.each(function(){b.appendHTML();b.setEventHandlers();b.showPopup()})},appendHTML:function(){if(a(".simplepopupBackground").length===0){var g='<div class="simplepopupBackground"></div>';a("body").prepend(g)}if(c.find(".simplepopupClose").length===0){var h='<div class="simplepopupClose">X</div>';c.prepend(h)}},setEventHandlers:function(){a(".simplepopupClose, .simplepopupBackground, .mypopupbuttonclass").on("click",function(g){b.hidePopup()});a(window).on("resize",function(g){if(e.centerPopup){b.positionPopup()}})},removeEventListners:function(){a(".simplepopupClose, .simplepopupBackground, .mypopupbuttonclass").off("click")},showPopup:function(){a(".simplepopupBackground").css({opacity:"0.7"});a(".simplepopupBackground").fadeIn("fast");c.fadeIn("slow",function(){e.open()});if(e.centerPopup){b.positionPopup()}},hidePopup:function(){a(".simplepopupBackground").fadeOut("fast");c.fadeOut("fast",function(){b.removeEventListners();e.closed()})},positionPopup:function(){var i=a(window).width();var l=a(window).height();var j=c.width();var k=c.height();var g=(l/2)-(k/2)+100;var h=(i/2)-(j/2);if(g<30){g=30}if(h>150){h=150}c.css({position:"absolute",top:g,left:h})},};if(b[d]){return b[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return b.init.apply(this)}else{a.error('Method "'+method+'" does not exist in simple popup plugin!')}}}})(jQuery);